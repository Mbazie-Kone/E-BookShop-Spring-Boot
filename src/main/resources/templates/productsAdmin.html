<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en">
	<head>
		<title>Administrator (admin)</title>
		<div th:replace="~{fragments/bootstrap :: block-bootstrap}"></div>
	</head>
	<body>
		<div class="wrapper d-flex flex-column min-vh-100">
			<!-- Header -->
			<div th:replace="~{fragments/adminHeader :: block-adminHeader}"></div>
			<!-- Header -->
			<!-- Main Content -->
			<div class="container-fluid flex-grow-1">
				<div class="row">
					<!-- Side bar -->
					<div th:replace="~{fragments/adminSideBar :: block-adminSideBar}"></div>
					<!-- Side bar -->
					<!-- Main Section -->
					<section class="col-md-9 mx-auto">
						<div class="card">
							<div
								class="card-header d-flex justify-content-between align-items-center text-bg-dark">
								<h5 class="card-title">Products List</h5>
								<a href="/showNewCatalogForm" class="btn btn-success">Add new
									product</a>
							</div>
							<div class="card-body">
								<div class="table-responsive">
									<table class="table table-striped">
										<thead>
											<tr>
												<th>ID</th>
												<th>Image</th>
												<th>Active</th>
												<th>Date Created</th>
												<th>Name</th>
												<th>SKU</th>
												<th>Price</th>
												<th>Units In Stock</th>
												<th>Action</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="product : ${productPage.content}">
												<td th:text="${product.id}"></td>
												<td><img th:src="${product.imagePath}"
													alt="Product Image" width="500" class="img-thumbnail">
												</td>
												<td th:text="${product.active}"></td>
												<td th:text="${product.dateCreated}"></td>
												<td th:text="${product.name}"></td>
												<td th:text="${product.sku}"></td>
												<td th:text="${product.unitPrice}"></td>
												<td th:text="${product.unitsInStock}"></td>
												<td>
													<div class="btn-group" role="group">
														<a th:href="@{showFormForUpdate/{id}(id=${product.id})}"
															class="btn btn-warning btn-sm">Update</a> <a
															th:href="@{deleteProduct/{id}(id=${product.id})}"
															class="btn btn-danger btn-sm"
															onclick="return confirm('Are you sure?')">Delete</a>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<!-- Pagination -->
								<nav aria-label="Page navigation">
									<ul class="pagination justify-content-center">
										<li th:classappend="${currentPage == 0} ? 'disabled'"><a
											class="page-link"
											th:href="@{/products(size=${productPage.size}, 
				                        				page=${currentPage - 1})}"
											aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
										</a></li>
										<li th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
											th:classappend="${i == currentPage} ? 'active'"><a
											class="page-link"
											th:href="@{/products(size=${productPage.size}, page=${i})}"
											th:text="${i + 1}">1</a></li>
										<li
											th:classappend="${currentPage == totalPages - 1} ? 'disabled'">
											<a class="page-link"
											th:href="@{/products(size=${productPage.size}, 
										            	page=${currentPage + 1})}"
											aria-label="Next"> <span aria-hidden="true">&raquo;</span>
										</a>
										</li>
									</ul>
								</nav>
								<!-- Pagination -->
							</div>
						</div>
					</section>
					<!-- Main Section -->
				</div>
				<!-- Main Content -->
			</div>
		</div>
		<!-- footer -->
		<div th:replace="~{fragments/adminFooter :: block-adminFooter}"></div>
		<!-- footer -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>